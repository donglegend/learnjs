<!-- 惰性单体 分支单体 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>030_design5</title>
    <script type="text/javascript">

        //惰性单体(和闭包单体有相似的地方)
        //命名空间
        /*
        var Ext = {} ;
        Ext.Base  = (function(){
            //私有变量 控制返回的单体对象
            var uniqInstance ;  //undefined
            //需要一个构造器 init 初始单体对象的方法
            function init(){
            //私有成员变量
                var a1 = true ;
                var a2 = 10 ;
                var fn1 = function(){alert('fn1')};
                var fn2 = function(){alert('fn2')};
                return {
                        attr1 : a1 ,
                        attr2 : a2 ,
                        method1 : function(){
                            return fn1();
                        },
                        method2 : function(){
                            return fn2();
                        }

                    };
                }

                return {
                    getInstance : function(){
                        if(!uniqInstance){
                            //如果不存在 创建单体实例
                            uniqInstance = init();
                        }
                        return uniqInstance ;
                    }
                };

            })();
            alert(Ext.Base.getInstance().attr2);
            Ext.Base.getInstance().method1();
            */
           
           //分支单体(主要判断程序的分支 <浏览器的差异检测>)

           var Ext = {} ;
           var diff = falseo6 ;
           Ext.More = (function(){
                var objA = {   //火狐浏览器 内部的配置
                        attr1:'FF属性1' 
                        //属性2
                        //方法1
                        //方法2
                };
                var objB = {   //IE浏览器 内部的配置
                        attr1:'IE属性1'
                        //属性2
                        //方法1
                        //方法2 

                }
                return (diff) ?objA:objB;
           })();
           alert(Ext.More.attr1);

    </script>
</head>
<body>
    
</body>
</html>
