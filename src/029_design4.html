<!-- 单体模式 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>029_design4</title>
    <script type=text/javascript charset=utf-8>
            //单体模式 (singleton)
            //1.简单单体模式  全局资源  公共的调用在一起
            /*
            var Singleton = {
                attr1:true,
                attr2:10,
                method1:function(){
                    alert('我是方法1');
                },
                method2:function(){
                    alert('我是方法2');
                }

            };
            */
            //alert(Singleton.method2);
            
            //补充:划分命名空间(区分代码 降低耦合性)  直接调用:EXT.Manager.attr1/method1();
            /*
            var CT = {};
            CT.Singleton = {
                attr1:true,
                attr2:10,
                method1:function(){
                    alert('我是方法1');
                },
                method2:function(){
                    alert('我是方法2');
                }
            };
            CT.Singleton.method1();
            */
           
            //2.借用闭包创建单体:闭包最主要的目的就是保护数据
            //命名空间
            var CT = {};
            CT.Singleton = (function(){

                //添加自己的私有成员 外部没有办法访问 可通过return访问
                var a1

                
                //把块级作用域里的执行结果赋值给我的单体对象
                return {
                    attr1:true,
                    attr2:10,
                    method1:function(){
                        alert('我是方法1');
                    },
                    method2:function(){
                        alert('我是方法2');
                    }
                };

            })();

            /*
            //利用块级作用域的方法
            (function test(){
                alert(10);
            })();
            */
            
        </script>
</head>
<body>
    
</body>
</html>